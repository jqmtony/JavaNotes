<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script type="text/javascript" src="js/jquery.min.js"></script>

    <script>
        $(function () {
            
        
            /*
                通过jquery 依次的获取 每一个p段落中的 文本内容
                如果分步获取：
                    $("body p:nth-child(1)")
                    $("body p:nth-child(2)")
                    $("body p:nth-child(3)")
                   当我们要获取的多个元素节点的个数不确定时，就不能单独独立去获取
                   此时可以使用 each方法，将匹配到所有的元素节点，进行遍历
             */
            /*迭代元素的方法 ： each*/
            /*$("p").each(function () {
                var  text = $(this).text();
                alert(text);
            })*/

            /*
                ① 全选：当用户选中 全选的这个 复选框时 应该讲所有的 子选项都选中
             */
            $(".check-all").click(function () {
               /* alert(this.checked);*/
                /*判断当前的元素是否被选中*/
                if(this.checked){// 当前元素如果选中  结果就true 否则就是false
                    /*获取所有的 子 复选框 一个一个 选中*/
                    $(".twoBox").each(function () {
                        $(this).prop("checked",true);
                        /*alert("二级元素："+this.checked);*/
                    })
                }else{
                    /*获取所有的 子 复选框 一个一个 勾掉*/
                    $(".twoBox").each(function () {
                        $(this).prop("checked",false);
                    })
                }

            })
            $(".twoBox").click(function () {
                var all = 0;  //选中的个数
                var notAll = 0; //没选中的个数
                $(".twoBox").each(function () {
                    if(this.checked){
                        all++;
                    }else{
                        notAll++;
                    }
                })
                if(all==0){
                    $(".check-all").prop("checked",false);
                }
                if(notAll==0){
                    $(".check-all").prop("checked",true);
                }
            })
        })

        function submitInfo() {
            
            $(".twoBox:checked").each(function () {
                alert($(this).val());
            })
        }

    </script>

    <style>
        ul{
            list-style-type: none;
            margin: 0px;
        }

        h3{
            margin: 5px;
            font-size: 16px;
        }
        h1{
            margin: 10px;
            font-size: 18px;
        }
    </style>
</head>
<body>

    <div>
        <h1>请选择你喜欢的水果：</h1>
        <h3><input class="check-all"  type="checkbox">全选</h3>
        <ul>
            <li><input class="twoBox" type="checkbox" value="1">苹果</li>
            <li><input class="twoBox" type="checkbox" value="2">西瓜</li>
            <li><input class="twoBox" type="checkbox" value="3">葡萄</li>
            <li><input class="twoBox" type="checkbox" value="4">柚子</li>
        </ul>
    </div>
    <button onclick="submitInfo()">提交</button>


    <p>第一个段落</p>
    <p>第二个段落</p>
    <p>第三个段落</p>
</body>
</html>